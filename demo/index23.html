<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>ngFormControl</title>
    <script type="text/javascript" src="../dist/angular2.beta.stack.min.js"></script>
</head>
<body>
<ez-app></ez-app>
<script type="text/typescript">
    // 1 导入组件
    // 2 定义组件
    // 3 定义一个渲染对象
    // 4 启动组件进行渲染
    // 5 使用自定义的dom节点   一定要放在script 标签外  body内


    	import {Component} from "angular2/core";
        import {bootstrap} from "angular2/platform/browser";
        import {Control,FORM_DIRECTIVES} from "angular2/common";

    @Component({
	selector:"ez-app",
	directives:[FORM_DIRECTIVES],
	template:`
		<div>
			<ul>
				<!--将输入元素绑定到已经创建的控件对象-->
				<li>姓名：<input type="text" [ngFormControl]="name"></li>
				<li>地址：<input type="text" [ngFormControl]="address"></li>
				<li>电话：<input type="text" [ngFormControl]="telephone"></li>
			</ul>
		</div>
		<!--调试：转储模型信息-->
		<pre>{{dump()}}</pre>
	`,
	styles:[`
		form{background:#e1f5fe;}
		ul{list-style:none;padding:10px;margin:0px;}
		li{line-height:30px;}
	`]
})
class EzApp{
	constructor(){
		//创建控件对象
		this.name = new Control("Jason");
		this.address = new Control("London U.K.");
		this.telephone = new Control("114");
	}
	dump(){
		//读取控件对象的值
		var val = {
			name : this.name.value,
			address : this.address.value,
			telephone : this.telephone.value
		}
		return JSON.stringify(val,null,"\t");
	}
}

bootstrap(EzApp);






</script>
</body>
</html>
