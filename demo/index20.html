<!doctype html>
<html>
<head>
	<meta charset="utf-8">
    <title>ngForm 用法</title>
    <script type="text/javascript" src="../dist/angular2.beta.stack.min.js"></script>
</head>
<body>
	<ez-app></ez-app>
    <script type="text/typescript">
    // 1 导入组件
    // 2 定义组件
    // 3 定义一个渲染对象
    // 4 启动组件进行渲染
    // 5 使用自定义的dom节点   一定要放在script 标签外  body内


    	import {Component} from "angular2/core";
        import {bootstrap} from "angular2/platform/browser";
        import {CORE_DIRECTIVES,FORM_DIRECTIVES} from "angular2/common";

        // 引入 CORE_DIRECTIVES,FORM_DIRECTIVES  的作用
        // NgForm指令和NgControlName指令都包含在预定义的数组变量FORM_DIRECTIVES中，
        // 所以我们在 组件注解的directives属性中直接声明FORM_DIRECTIVES就可以在模板中直接使用这些指令了：
        @Component({
			selector:"ez-app",
			directives:[FORM_DIRECTIVES,CORE_DIRECTIVES],
        	template : `
                <form #f="ngForm" (submit)="search(f.value)">
                    <input type="text" ngControl="kw">
                    <button type="submit">搜索</button>
                </form>
                <h1 *ngIf="kw!=''" >正在搜索{{kw}}....</h1>
        	`
        })
        class EzApp{
            constructor(){
                this.kw="";
            }
            search(val){
                this.kw = val.kw;
                setTimeout(()=>this.kw="",2000);
            }

        }

        bootstrap(EzApp);
    </script>
</body>
</html>
